$('#fechar_votacao').click(function(){
    window.top.close();
});

$('.sastar1').on('click', function(){
    $('.sastar1').attr('style', 'color: rgba(195,166,59, 1);');
    $('.sastar2').attr('style', 'color: rgba(1,1,1, 1);');
    $('.sastar3').attr('style', 'color: rgba(1,1,1, 1);');
    $('.sastar4').attr('style', 'color: rgba(1,1,1, 1);');
    $('.sastar5').attr('style', 'color: rgba(1,1,1, 1);');
});

$('.sastar2').on('click', function(){
    $('.sastar1').attr('style', 'color: rgba(195,166,59, 1);');
    $('.sastar2').attr('style', 'color: rgba(195,166,59, 1);');
    $('.sastar3').attr('style', 'color: rgba(1,1,1, 1);');
    $('.sastar4').attr('style', 'color: rgba(1,1,1, 1);');
    $('.sastar5').attr('style', 'color: rgba(1,1,1, 1);');
});

$('.sastar3').on('click', function(){
    $('.sastar1').attr('style', 'color: rgba(195,166,59, 1);');
    $('.sastar2').attr('style', 'color: rgba(195,166,59, 1);');
    $('.sastar3').attr('style', 'color: rgba(195,166,59, 1);');
    $('.sastar4').attr('style', 'color: rgba(1,1,1, 1);');
    $('.sastar5').attr('style', 'color: rgba(1,1,1, 1);');
});

$('.sastar4').on('click', function(){
    $('.sastar1').attr('style', 'color: rgba(195,166,59, 1);');
    $('.sastar2').attr('style', 'color: rgba(195,166,59, 1);');
    $('.sastar3').attr('style', 'color: rgba(195,166,59, 1);');
    $('.sastar4').attr('style', 'color: rgba(195,166,59, 1);');
    $('.sastar5').attr('style', 'color: rgba(1,1,1, 1);');
});

$('.sastar5').on('click', function(){
    $('.sastar1').attr('style', 'color: rgba(195,166,59, 1);');
    $('.sastar2').attr('style', 'color: rgba(195,166,59, 1);');
    $('.sastar3').attr('style', 'color: rgba(195,166,59, 1);');
    $('.sastar4').attr('style', 'color: rgba(195,166,59, 1);');
    $('.sastar5').attr('style', 'color: rgba(195,166,59, 1);');
});



$('.castar1').on('click', function(){
    $('.castar1').attr('style', 'color: rgba(195,166,59, 1);');
    $('.castar2').attr('style', 'color: rgba(1,1,1, 1);');
    $('.castar3').attr('style', 'color: rgba(1,1,1, 1);');
    $('.castar4').attr('style', 'color: rgba(1,1,1, 1);');
    $('.castar5').attr('style', 'color: rgba(1,1,1, 1);');
});

$('.castar2').on('click', function(){
    $('.castar1').attr('style', 'color: rgba(195,166,59, 1);');
    $('.castar2').attr('style', 'color: rgba(195,166,59, 1);');
    $('.castar3').attr('style', 'color: rgba(1,1,1, 1);');
    $('.castar4').attr('style', 'color: rgba(1,1,1, 1);');
    $('.castar5').attr('style', 'color: rgba(1,1,1, 1);');
});

$('.castar3').on('click', function(){
    $('.castar1').attr('style', 'color: rgba(195,166,59, 1);');
    $('.castar2').attr('style', 'color: rgba(195,166,59, 1);');
    $('.castar3').attr('style', 'color: rgba(195,166,59, 1);');
    $('.castar4').attr('style', 'color: rgba(1,1,1, 1);');
    $('.castar5').attr('style', 'color: rgba(1,1,1, 1);');
});

$('.castar4').on('click', function(){
    $('.castar1').attr('style', 'color: rgba(195,166,59, 1);');
    $('.castar2').attr('style', 'color: rgba(195,166,59, 1);');
    $('.castar3').attr('style', 'color: rgba(195,166,59, 1);');
    $('.castar4').attr('style', 'color: rgba(195,166,59, 1);');
    $('.castar5').attr('style', 'color: rgba(1,1,1, 1);');
});

$('.castar5').on('click', function(){
    $('.castar1').attr('style', 'color: rgba(195,166,59, 1);');
    $('.castar2').attr('style', 'color: rgba(195,166,59, 1);');
    $('.castar3').attr('style', 'color: rgba(195,166,59, 1);');
    $('.castar4').attr('style', 'color: rgba(195,166,59, 1);');
    $('.castar5').attr('style', 'color: rgba(195,166,59, 1);');
});



$('.histar1').on('click', function(){
    $('.histar1').attr('style', 'color: rgba(195,166,59, 1);');
    $('.histar2').attr('style', 'color: rgba(1,1,1, 1);');
    $('.histar3').attr('style', 'color: rgba(1,1,1, 1);');
    $('.histar4').attr('style', 'color: rgba(1,1,1, 1);');
    $('.histar5').attr('style', 'color: rgba(1,1,1, 1);');
});

$('.histar2').on('click', function(){
    $('.histar1').attr('style', 'color: rgba(195,166,59, 1);');
    $('.histar2').attr('style', 'color: rgba(195,166,59, 1);');
    $('.histar3').attr('style', 'color: rgba(1,1,1, 1);');
    $('.histar4').attr('style', 'color: rgba(1,1,1, 1);');
    $('.histar5').attr('style', 'color: rgba(1,1,1, 1);');
});

$('.histar3').on('click', function(){
    $('.histar1').attr('style', 'color: rgba(195,166,59, 1);');
    $('.histar2').attr('style', 'color: rgba(195,166,59, 1);');
    $('.histar3').attr('style', 'color: rgba(195,166,59, 1);');
    $('.histar4').attr('style', 'color: rgba(1,1,1, 1);');
    $('.histar5').attr('style', 'color: rgba(1,1,1, 1);');
});

$('.histar4').on('click', function(){
    $('.histar1').attr('style', 'color: rgba(195,166,59, 1);');
    $('.histar2').attr('style', 'color: rgba(195,166,59, 1);');
    $('.histar3').attr('style', 'color: rgba(195,166,59, 1);');
    $('.histar4').attr('style', 'color: rgba(195,166,59, 1);');
    $('.histar5').attr('style', 'color: rgba(1,1,1, 1);');
});

$('.histar5').on('click', function(){
    $('.histar1').attr('style', 'color: rgba(195,166,59, 1);');
    $('.histar2').attr('style', 'color: rgba(195,166,59, 1);');
    $('.histar3').attr('style', 'color: rgba(195,166,59, 1);');
    $('.histar4').attr('style', 'color: rgba(195,166,59, 1);');
    $('.histar5').attr('style', 'color: rgba(195,166,59, 1);');
});



$('.amstar1').on('click', function(){
    $('.amstar1').attr('style', 'color: rgba(195,166,59, 1);');
    $('.amstar2').attr('style', 'color: rgba(1,1,1, 1);');
    $('.amstar3').attr('style', 'color: rgba(1,1,1, 1);');
    $('.amstar4').attr('style', 'color: rgba(1,1,1, 1);');
    $('.amstar5').attr('style', 'color: rgba(1,1,1, 1);');
});

$('.amstar2').on('click', function(){
    $('.amstar1').attr('style', 'color: rgba(195,166,59, 1);');
    $('.amstar2').attr('style', 'color: rgba(195,166,59, 1);');
    $('.amstar3').attr('style', 'color: rgba(1,1,1, 1);');
    $('.amstar4').attr('style', 'color: rgba(1,1,1, 1);');
    $('.amstar5').attr('style', 'color: rgba(1,1,1, 1);');
});

$('.amstar3').on('click', function(){
    $('.amstar1').attr('style', 'color: rgba(195,166,59, 1);');
    $('.amstar2').attr('style', 'color: rgba(195,166,59, 1);');
    $('.amstar3').attr('style', 'color: rgba(195,166,59, 1);');
    $('.amstar4').attr('style', 'color: rgba(1,1,1, 1);');
    $('.amstar5').attr('style', 'color: rgba(1,1,1, 1);');
});

$('.amstar4').on('click', function(){
    $('.amstar1').attr('style', 'color: rgba(195,166,59, 1);');
    $('.amstar2').attr('style', 'color: rgba(195,166,59, 1);');
    $('.amstar3').attr('style', 'color: rgba(195,166,59, 1);');
    $('.amstar4').attr('style', 'color: rgba(195,166,59, 1);');
    $('.amstar5').attr('style', 'color: rgba(1,1,1, 1);');
});

$('.amstar5').on('click', function(){
    $('.amstar1').attr('style', 'color: rgba(195,166,59, 1);');
    $('.amstar2').attr('style', 'color: rgba(195,166,59, 1);');
    $('.amstar3').attr('style', 'color: rgba(195,166,59, 1);');
    $('.amstar4').attr('style', 'color: rgba(195,166,59, 1);');
    $('.amstar5').attr('style', 'color: rgba(195,166,59, 1);');
});

function ajaxvote(){
    $.ajaxSetup({
        headers: {
            'X-CSRF-TOKEN': $('meta[name="_token"]').attr('content')
        }
    });
    $.ajax({
      'processing': true, 
      'serverSide': true,
        type: "PATCH",
        data: {
                sa: $("input[name=sa]:checked").val(),
                ca: $("input[name=ca]:checked").val(),
                hi: $("input[name=hi]:checked").val(),
                am: $("input[name=am]:checked").val(),
                _method: "PATCH"
              },
        url: $('#votacao').attr("action"),
        datatype: "json",
        beforeSend: function() {
            var string = "<div class='row' id='successDiv'>";
            string += "<div class='col-md-12'>";
            string += "<div class='alert alert-info text-center' role='alert'>";
            string += "<b>Aguarde, computando voto...</b>";
            string += "</div>";
            string += "</div";
            string += "</div>";
            $("#response").html(string);
        },
        success: function(vote) {
            var string = "<div class='row' id='successDiv'>";
            string += "<div class='col-md-12'>";
            string += "<div class='alert alert-success text-center' role='alert'>";
            string += "<b>Voto registrado com sucesso! Obrigado =D</b>";
            string += "</div>";
            string += "</div";
            string += "</div>";
            $("#response").html(string);
            $('.amstar2').attr('style', 'color: rgba(1,1,1, 1);');
            $('.amstar3').attr('style', 'color: rgba(1,1,1, 1);');
            $('.amstar4').attr('style', 'color: rgba(1,1,1, 1);');
            $('.amstar5').attr('style', 'color: rgba(1,1,1, 1);');
            $('.histar2').attr('style', 'color: rgba(1,1,1, 1);');
            $('.histar3').attr('style', 'color: rgba(1,1,1, 1);');
            $('.histar4').attr('style', 'color: rgba(1,1,1, 1);');
            $('.histar5').attr('style', 'color: rgba(1,1,1, 1);');
            $('.castar2').attr('style', 'color: rgba(1,1,1, 1);');
            $('.castar3').attr('style', 'color: rgba(1,1,1, 1);');
            $('.castar4').attr('style', 'color: rgba(1,1,1, 1);');
            $('.castar5').attr('style', 'color: rgba(1,1,1, 1);');
            $('.sastar2').attr('style', 'color: rgba(1,1,1, 1);');
            $('.sastar3').attr('style', 'color: rgba(1,1,1, 1);');
            $('.sastar4').attr('style', 'color: rgba(1,1,1, 1);');
            $('.sastar5').attr('style', 'color: rgba(1,1,1, 1);');
            $("#sa1").prop("checked", true);
            $("#ca1").prop("checked", true);
            $("#hi1").prop("checked", true);
            $("#am1").prop("checked", true);
            $('#successDiv').delay(3000).fadeOut();
        },
        error: function() {
            var string = "<div class='row' id='successDiv'>";
            string += "<div class='col-md-12'>";
            string += "<div class='alert alert-danger text-center' role='alert'>";
            string += "<b>Voto não computado! A Internet caiu aí?</b>";
            string += "</div>";
            string += "</div";
            string += "</div>";
            $("#response").html(string);
            $('#successDiv').delay(3000).fadeOut();
        }
    });
}